---
layout: default
title: QR2Web with GPS
---

<script>
    function onQR2WebCodeScan(barcode) {
        document.getElementById("scanResult").innerHTML = barcode;
    }
    function onQR2WebLocation(json) {
        var mapData = JSON.parse(json);
        var map = L.map('map').setView([mapData.latitude, mapData.longitude], 13);
        L.tileLayer('https://api.mapbox.com/styles/v1/adrianotiger/tiles/{z}/{x}/{y}?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 15,
            id: 'mapbox/streets-v11',
            accessToken: 'pk.eyJ1IjoiYWRyaWFub3RpZ2VyIiwiYSI6ImNreGV4d2w0MjF3bDAzMmt0dXppMDA4dmQifQ.foIvIrYgCAppnBfMhGMw9Q'
        }).addTo(map);
        document.getElementById("scanResult").innerHTML += mapData.latitude + "/" + mapData.longitude;
    }
</script>
<div class="blurb">
    <h1>Example 5</h1>
    <h2>{{ page.title }}</h2>
  Activate the location (under settings) and click on the SCAN button in your app 
  or open this link: <a href="qr2web:/scan">qr2web:/scan</a>
  <br><br>
  <div id="scanResult" style="background-color:yellow;color:#00a;padding: 20px;margin: 20px;"><i>SCAN RESULT</i></div>
  
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
  integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
  crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
  integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
  crossorigin=""></script>
  <div id="map" style="width:80vw;height:40vh;background:yellow;max-width:100vw;color:#00a;padding:0px;margin:0 auto;">Leaflet Map</div>
</div>
